{"version":3,"sources":["api.js","redux/actions/actionTypes.js","redux/actions/dogs.js","redux/actions/app.js","components/non-connected/photo/photo.js","components/non-connected/infinite-scroll/infinite-scroll.js","util/util.js","components/connected/photos/photos.js","components/connected/menu/menu.js","components/non-connected/error-boundary/error-boundary.js","components/non-connected/search/search.js","redux/actions/breeds.js","components/connected/app/App.js","redux/reducers/dogs.js","redux/reducers/breeds.js","redux/reducers/app.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["getJSON","url","a","fetch","res","json","fetchDogs","breed","subBreed","FETCH_DOGS","Object","freeze","INITIAL","SUCCESS","FAILURE","FETCH_BREEDS","DOGS","SET_CURRENT_BREED","GET_RANDOM_DOGS","ADD_FAVORITE","REMOVE_FAVORITE","SET_SHOW_FAVORITES","APPEND_CURRENT_DOGS","APP","SET_FIRST_SEARCH","SET_DARK_THEME","SET_SINGLE_VIEW","SET_ERROR","initialAction","type","successAction","dogs","message","failureAction","err","setCurrentBreed","currentBreed","getRandomDogs","addFavorite","dog","getDogs","dispatch","status","setFirstSearch","firstSearch","setSingleView","singleView","Photo","isLoaded","isFavorite","handleOnClick","e","persist","target","scrollIntoViewIfNeeded","className","key","onClick","style","backgroundImage","icon","IconNames","STAR","InfiniteScroll","children","handleLastRow","useInView","lastRowRef","lastRowInView","onLastRow","debounce","useEffect","ref","mod","num","n","capitalize","str","slice","toUpperCase","toLowerCase","prettifyBreed","trim","promisifyImage","src","Promise","resolve","img","Image","addEventListener","setAttribute","randomDogs","prev","diff","difference","result","length","randIndex","random","randValue","splice","push","breedToKey","JSON","stringify","updateDogs","prevDogs","newDogs","cloneDeep","Set","connect","state","dogState","app","currentDogs","favoriteDogs","showingFavoriteDogs","pageSize","max","size","useState","loadedPhotos","setLoadedPhotos","isMounted","notLoadedPhotos","filter","includes","photos","promises","map","allSettled","promisifyPhotos","then","rows","props","appendCurrentDogs","darkTheme","menuOpen","setMenuOpen","scrollY","setScrollY","updateScroll","throttle","window","removeEventListener","menuClass","CHEVRON_LEFT","MENU","CSSTransition","in","unmountOnExit","mountOnEnter","classNames","timeout","checked","onChange","showFavoriteDogs","MOON","setDarkTheme","ErrorBoundary","hasError","error","errorInfo","this","setError","ERROR","intent","Intent","DANGER","React","Component","Search","items","handleValueChange","handleOnFocus","KEY_CODE","UP","DOWN","ENTER","inputVal","setInputVal","showOptions","setShowOptions","filteredItems","setFilteredItems","selectedIndex","setSelectedIndex","placeholder","setPlaceholder","searchContainerRef","useRef","currOptionRef","current","handleClick","contains","document","cache","optionSelect","parse","keyToBreed","console","log","SEARCH","value","spellCheck","onKeyUp","newIndex","keyCode","onFocus","options","i","val","label","dataset","renderOptions","breeds","appState","querySelector","setProperty","dogPhotos","useMemo","noFavorites","STAR_EMPTY","searchProps","INITIAL_STATE","inProgress","formatBreeds","entries","forEach","subBreeds","combineReducers","prevState","action","Array","from","newFavoriteDogs","index","findIndex","middleware","applyMiddleware","logger","thunk","createStore","finalReducer","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.225792f8.chunk.js","sourcesContent":["/**\r\n * @param url - the url to fetch\r\n * @returns {Promise<any>}\r\n * @desc A utility function for fetching the JSON\r\n * response from an endpoint.\r\n */\r\nasync function getJSON(url) {\r\n    try {\r\n        const res = await fetch(url);\r\n        return await res.json();\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\n/**\r\n * @param breed\r\n * @param subBreed\r\n * @returns {Promise<any>}\r\n * @desc Makes a request to the Dogs API by breed and sub-breed.\r\n * Dogs API: https://dog.ceo/dog-api/documentation/\r\n */\r\nexport function fetchDogs(breed, subBreed = null) {\r\n    let url = `https://dog.ceo/api/breed/${breed}/`;\r\n    if (subBreed) url += `${subBreed}/`;\r\n    url += \"images\";\r\n    return getJSON(url);\r\n}\r\n\r\n/**\r\n * @returns {Promise<any>}\r\n * @desc Makes a request to the Dogs API for the list of breeds.\r\n */\r\nexport function fetchBreeds() {\r\n    const url = \"https://dog.ceo/api/breeds/list/all\";\r\n    return getJSON(url);\r\n}","export const FETCH_DOGS = Object.freeze({\r\n    INITIAL: \"FETCH_DOGS_INITIAL\",\r\n    SUCCESS: \"FETCH_DOGS_SUCCESS\",\r\n    FAILURE: \"FETCH_DOGS_FAILURE\"\r\n});\r\n\r\nexport const FETCH_BREEDS = Object.freeze({\r\n    INITIAL: \"FETCH_BREEDS_INITIAL\",\r\n    SUCCESS: \"FETCH_BREEDS_SUCCESS\",\r\n    FAILURE: \"FETCH_BREEDS_FAILURE\"\r\n});\r\n\r\nexport const DOGS = Object.freeze({\r\n    SET_CURRENT_BREED: \"DOGS_SET_CURRENT_BREED\",\r\n    GET_RANDOM_DOGS: \"DOGS_GET_RANDOM_DOGS\",\r\n    ADD_FAVORITE: \"DOGS_ADD_FAVORITE\",\r\n    REMOVE_FAVORITE: \"DOGS_REMOVE_FAVORITE\",\r\n    SET_SHOW_FAVORITES: \"DOGS_SET_SHOW_FAVORITES\",\r\n    APPEND_CURRENT_DOGS: \"DOGS_APPEND_CURRENT_DOGS\"\r\n});\r\n\r\nexport const APP = Object.freeze({\r\n    SET_FIRST_SEARCH: \"APP_SET_FIRST_SEARCH\",\r\n    SET_DARK_THEME: \"APP_SET_DARK_THEME\",\r\n    SET_SINGLE_VIEW: \"APP_SET_SINGLE_VIEW\",\r\n    SET_ERROR: \"APP_SET_ERROR\"\r\n});","import {fetchDogs} from \"../../api\";\r\nimport {DOGS, FETCH_DOGS} from \"./actionTypes\";\r\n\r\nfunction initialAction() {\r\n    return {\r\n        type: FETCH_DOGS.INITIAL\r\n    }\r\n}\r\n\r\nfunction successAction({breed,subBreed,res}) {\r\n    return {\r\n        type: FETCH_DOGS.SUCCESS,\r\n        breed,\r\n        subBreed,\r\n        dogs: res.message\r\n    }\r\n}\r\n\r\nfunction failureAction(err) {\r\n    return {\r\n        type: FETCH_DOGS.FAILURE,\r\n        err\r\n    }\r\n}\r\n\r\nexport function setCurrentBreed(currentBreed) {\r\n    return {\r\n        type: DOGS.SET_CURRENT_BREED,\r\n        currentBreed\r\n    };\r\n}\r\n\r\nexport function getRandomDogs() {\r\n    return {\r\n        type: DOGS.GET_RANDOM_DOGS\r\n    };\r\n}\r\n\r\nexport function removeFavorite(dog) {\r\n    return {\r\n        type: DOGS.REMOVE_FAVORITE,\r\n        dog\r\n    };\r\n}\r\n\r\nexport function addFavorite(dog) {\r\n    return {\r\n        type: DOGS.ADD_FAVORITE,\r\n        dog\r\n    };\r\n}\r\n\r\nexport function setShowFavoriteDogs(showFavoriteDogs) {\r\n    return {\r\n        type: DOGS.SET_SHOW_FAVORITES,\r\n        showFavoriteDogs\r\n    };\r\n}\r\n\r\nexport function appendCurrentDogs(currentDogs) {\r\n    return {\r\n        type: DOGS.APPEND_CURRENT_DOGS,\r\n        currentDogs\r\n    }\r\n}\r\n\r\nexport function getDogs(breed, subBreed=null) {\r\n    return async (dispatch) => {\r\n        dispatch(initialAction());\r\n        try {\r\n            const res = await fetchDogs(breed,subBreed);\r\n            if (res.status === \"success\") {\r\n                dispatch(successAction({breed,subBreed,res}));\r\n            } else {\r\n                dispatch(failureAction(res));\r\n            }\r\n        } catch (e) {\r\n            dispatch(failureAction(e))\r\n        }\r\n    };\r\n}","import {APP} from \"./actionTypes\";\r\n\r\nexport function setFirstSearch(firstSearch) {\r\n    return {\r\n        type: APP.SET_FIRST_SEARCH,\r\n        firstSearch\r\n    };\r\n}\r\n\r\nexport function setDarkTheme(darkTheme) {\r\n    return {\r\n        type: APP.SET_DARK_THEME,\r\n        darkTheme\r\n    };\r\n}\r\n\r\nexport function setError(error) {\r\n    return {\r\n        type: APP.SET_ERROR,\r\n        error\r\n    }\r\n}\r\n\r\nexport function setSingleView(singleView) {\r\n    return {\r\n        type: APP.SET_SINGLE_VIEW,\r\n        singleView\r\n    };\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {addFavorite, removeFavorite} from \"../../../redux/actions/dogs\";\r\nimport {setSingleView} from \"../../../redux/actions/app\";\r\nimport {Icon} from \"@blueprintjs/core\";\r\nimport {IconNames} from \"@blueprintjs/icons\";\r\nimport './photo.scss';\r\n\r\n/**\r\n * @param url - the image to display\r\n * @param isLoaded - whether the image has finished loading\r\n * @param isFavorite - whether the image is currently a favorite image\r\n * @param singleView - whether the app state is in single view\r\n * @param dispatch\r\n * @desc A photo component\r\n */\r\nfunction Photo({url, isLoaded, isFavorite, singleView, dispatch}) {\r\n\r\n    // HANDLERS --------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @param e\r\n     * @desc A click handler for a photo.\r\n     * If the app is in single view, clicking\r\n     * on a photo initiates favoriting, else\r\n     * it sets single view to true.\r\n     */\r\n    const handleOnClick = async e => {\r\n        if (singleView) {\r\n            if (isFavorite) {\r\n                dispatch(removeFavorite(url));\r\n            } else {\r\n                dispatch(addFavorite(url));\r\n            }\r\n        } else {\r\n            e.persist();\r\n            await dispatch(setSingleView(true));\r\n            e.target.scrollIntoViewIfNeeded();\r\n        }\r\n    };\r\n\r\n    // COMPONENTS ------------------------------------------------------------------------------------------------------\r\n\r\n    const renderFavoriteButton = () => {\r\n        if (singleView) {\r\n            return (\r\n                <div className={\"buttons\"}>\r\n                    <Icon className={isFavorite ? \"favorite\" : \"\"} icon={IconNames.STAR}/>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    /**\r\n     * @desc Until the photo finished loading, render a default background.\r\n     */\r\n    if (isLoaded) {\r\n        return  (\r\n            <div className={`photo`} key={url} onClick={handleOnClick}>\r\n                <div className={`card-container`} style={{backgroundImage: `url(${url})`}}/>\r\n                {renderFavoriteButton()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={\"photo inactive\"}>\r\n            <div className={\"card-container\"}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nPhoto.propTypes = {\r\n    url: PropTypes.string,\r\n    isLoaded: PropTypes.bool,\r\n    isFavorite: PropTypes.bool,\r\n    dispatch: PropTypes.func\r\n};\r\n\r\nexport default Photo;","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {useInView} from 'react-intersection-observer';\r\nimport {debounce} from \"lodash\";\r\n\r\n/**\r\n * @param children\r\n * @param handleLastRow {function} - handler to call on last row\r\n * @param className {string?}\r\n * @desc An infinite scrolling wrapper component.\r\n */\r\nfunction InfiniteScroll({children, handleLastRow, className = ''}) {\r\n\r\n    // CONSTANTS -------------------------------------------------------------------------------------------------------\r\n\r\n    const [lastRowRef, lastRowInView] = useInView();\r\n    const onLastRow = debounce(handleLastRow, 250);\r\n\r\n    // SIDE EFFECTS ----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc Whenever the last row is in view,\r\n     * call the debounced last row handler.\r\n     */\r\n    useEffect(() => {\r\n        if (lastRowInView) {\r\n            onLastRow();\r\n        }\r\n    }, [lastRowInView]);\r\n\r\n    // COMPONENTS ------------------------------------------------------------------------------------------------------\r\n\r\n    return (\r\n        <div className={className}>\r\n            {children}\r\n            <div ref={lastRowRef}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nInfiniteScroll.propTypes = {\r\n    handleLastRow: PropTypes.func,\r\n    className: PropTypes.string\r\n};\r\n\r\nexport default InfiniteScroll;","import {cloneDeep, random, difference} from \"lodash\";\r\n\r\n/**\r\n * @param num\r\n * @param n\r\n * @returns {number}\r\n * @desc Javascript's native modulo does\r\n * not work as expected for negative numbers.\r\n * This is a work-around.\r\n */\r\nexport function mod(num,n) {\r\n    return ((num % n) + n) % n;\r\n}\r\n\r\n/**\r\n * @param str\r\n * @returns {string}\r\n * @desc Capitalize a single word.\r\n */\r\nfunction capitalize(str) {\r\n    return str.slice(0,1).toUpperCase() + str.slice(1).toLowerCase();\r\n}\r\n\r\n/**\r\n * @param breed\r\n * @param subBreed\r\n * @returns {string}\r\n * @desc Prettify a breed for display.\r\n */\r\nexport function prettifyBreed({breed, subBreed = null}) {\r\n    return `${capitalize(breed)} ${subBreed ? capitalize(subBreed) : \"\"}`.trim();\r\n}\r\n\r\n/**\r\n * @param src\r\n * @returns {Promise<unknown>}\r\n * @desc Promisify an image src which\r\n * resolves when the image has loaded.\r\n */\r\nexport function promisifyImage(src) {\r\n    return new Promise(resolve => {\r\n        const img = new Image();\r\n        img.addEventListener(\"load\", resolve);\r\n        img.setAttribute(\"src\", src);\r\n    });\r\n}\r\n\r\n/**\r\n * @param photos\r\n * @desc Promisify a list of photos which\r\n * resolves when all of the photos have settled\r\n * (rejected or resolved).\r\n */\r\nexport function promisifyPhotos(photos) {\r\n    const promises = photos.map(promisifyImage);\r\n    return Promise.allSettled(promises);\r\n}\r\n\r\n/**\r\n * @param n {int} - the amount of random dogs to generate\r\n * @param dogs {string[]} - the original dog array\r\n * @param prev {string[]} - the previous array of dogs\r\n * @desc Generate n more unique random dogs that do not\r\n * exists in the previous array of dogs.\r\n */\r\nexport function randomDogs(n, dogs, prev=[]) {\r\n    const diff = difference(dogs, prev);\r\n    const result = [...prev];\r\n    while(n > 0) {\r\n        if (diff.length === 0) break;\r\n        const randIndex = random(0,diff.length-1);\r\n        const randValue = diff.splice(randIndex, 1);\r\n        if (randValue.length) {\r\n            result.push(randValue[0]);\r\n            n--;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * @param breed\r\n * @param subBreed\r\n * @desc Use this function to convert a\r\n * breed into a key. Ensures the same key is\r\n * used throughout the app.\r\n */\r\nexport function breedToKey({breed, subBreed}) {\r\n    return JSON.stringify({breed, subBreed});\r\n}\r\n\r\n/**\r\n * @param key {string}\r\n * @desc Use this function to convert a key\r\n * to a breed.\r\n */\r\nexport function keyToBreed(key) {\r\n    return JSON.parse(key);\r\n}\r\n\r\n/**\r\n * @param prevDogs\r\n * @param breed\r\n * @param subBreed\r\n * @param dogs\r\n * @desc Update a previous dog object with a new\r\n * dog object. A set is used to ensure uniqueness.\r\n */\r\nexport function updateDogs(prevDogs, {breed, subBreed, dogs}) {\r\n    const key = breedToKey({breed, subBreed});\r\n    const newDogs = cloneDeep(prevDogs);\r\n    if (!(key in newDogs)) {\r\n        newDogs[key] = new Set(dogs);\r\n    } else {\r\n        newDogs[key] = new Set([...newDogs[key], ...dogs]);\r\n    }\r\n    return newDogs;\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport Photo from \"../../non-connected/photo/photo\";\r\nimport InfiniteScroll from \"../../non-connected/infinite-scroll/infinite-scroll\";\r\nimport {getRandomDogs, appendCurrentDogs} from \"../../../redux/actions/dogs\";\r\nimport {promisifyPhotos} from \"../../../util/util\";\r\nimport './photos.scss';\r\n\r\n/**\r\n * @param dogState\r\n * @param dispatch\r\n * @param singleView - whether the current app state is in single view\r\n * @desc Photos is a connected component for displaying\r\n * the current dogs from the dog state as photos.\r\n *\r\n * Features:\r\n *  - maintains a loaded photos state so that each page is loaded simultaneously\r\n *  - renders dog photos with infinite scrolling\r\n */\r\nfunction Photos({dogState, dispatch, singleView}) {\r\n\r\n    // CONSTANTS -------------------------------------------------------------------------------------------------------\r\n\r\n    const {currentBreed, dogs, currentDogs, favoriteDogs, showingFavoriteDogs, pageSize} = dogState;\r\n    const max = (showingFavoriteDogs ? favoriteDogs.length : dogs[currentBreed].size);\r\n\r\n    // COMPONENT STATE -------------------------------------------------------------------------------------------------\r\n\r\n    const [loadedPhotos, setLoadedPhotos] = useState([]);\r\n\r\n    // SIDE EFFECTS ----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc Whenever current dogs changes,\r\n     * wait for all of the not yet loaded\r\n     * dog photos to load, then update the\r\n     * loaded photos state with all of the\r\n     * dogs simultaneously.\r\n     */\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const notLoadedPhotos = currentDogs.filter(dog => !loadedPhotos.includes(dog));\r\n        promisifyPhotos(notLoadedPhotos).then(() => {\r\n            if (isMounted) {\r\n                setLoadedPhotos([...loadedPhotos, ...notLoadedPhotos]);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            isMounted = false;\r\n        }\r\n    }, [currentDogs]);\r\n\r\n    /**\r\n     * @desc Whenever the app state for showing favorite\r\n     * dogs changes and if it is true, clear the loaded photos.\r\n     */\r\n    useEffect(() => {\r\n        if (showingFavoriteDogs) {\r\n            setLoadedPhotos([]); // reset\r\n        }\r\n    }, [showingFavoriteDogs]);\r\n\r\n    // HANDLERS --------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc A handler to call when the last\r\n     * row inside of an infinite scroll is\r\n     * in view.\r\n     */\r\n    const handleLastRow = () => {\r\n        const {length} = currentDogs;\r\n        if (length < max) {\r\n            if (showingFavoriteDogs) {\r\n                dispatch(appendCurrentDogs(favoriteDogs.slice(length, length + pageSize)));\r\n            } else {\r\n                dispatch(getRandomDogs());\r\n            }\r\n        }\r\n    };\r\n\r\n    // COMPONENTS ------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc Prepares a list of dog photos to be rendered\r\n     * inside of an infinite scrolling component.\r\n     */\r\n    const rows = currentDogs.map(url => {\r\n        const props = {\r\n            url,\r\n            key: url,\r\n            isFavorite: favoriteDogs.includes(url),\r\n            isLoaded: loadedPhotos.includes(url),\r\n            singleView,\r\n            dispatch\r\n        };\r\n        return (<Photo {...props}/>);\r\n    });\r\n\r\n    return (\r\n        <InfiniteScroll className={`photos ${singleView ? \" single-view\" : \"\"}`} handleLastRow={handleLastRow}>\r\n            {rows}\r\n        </InfiniteScroll>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    dogState: state.dogs,\r\n    singleView: state.app.singleView\r\n});\r\n\r\nPhotos.propTypes = {\r\n    dogState: PropTypes.object,\r\n    dispatch: PropTypes.func,\r\n    singleView: PropTypes.bool\r\n};\r\n\r\nexport default connect(mapStateToProps)(Photos);\r\n\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon, Switch } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport {setShowFavoriteDogs} from \"../../../redux/actions/dogs\";\r\nimport {setFirstSearch, setSingleView} from \"../../../redux/actions/app\";\r\nimport {connect} from \"react-redux\";\r\nimport {throttle} from \"lodash\";\r\nimport {setDarkTheme} from \"../../../redux/actions/app\";\r\nimport './menu.scss';\r\n\r\n/**\r\n * @param dispatch - used to dispatch actions to redux store\r\n * @param darkTheme - whether the current theme is dark\r\n * @param singleView - whether the current app state is in single view\r\n * @param showingFavoriteDogs - whether the app is currently showing favorite dogs\r\n * @desc The menu component opens and close a menu for the entire app.\r\n *\r\n * Features:\r\n *  - backdrop filter if vertical scroll position greater than zero\r\n *  - open & close dialog animation\r\n *  - slider for switching theme\r\n *  - button for showing favorite dogs\r\n */\r\nfunction Menu ({dispatch, darkTheme, singleView, showingFavoriteDogs}) {\r\n\r\n    // COMPONENT STATE -------------------------------------------------------------------------------------------------\r\n\r\n    const [menuOpen, setMenuOpen] = useState(false);\r\n    const [scrollY, setScrollY] = useState(0);\r\n\r\n    // SIDE EFFECTS ----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc Registers an event listener on the window's\r\n     * vertical scroll position.\r\n     */\r\n    useEffect(() => {\r\n        const updateScroll = throttle(() => {\r\n            setScrollY(window.scrollY);\r\n        }, 100);\r\n        window.addEventListener(\"scroll\", updateScroll);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"scroll\", updateScroll);\r\n        };\r\n    }, []);\r\n\r\n    // HANDLERS --------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc A change handler for the\r\n     * favorite slider.\r\n     */\r\n    const handleOnChange = () => {\r\n        dispatch(setFirstSearch(false));\r\n        dispatch(setShowFavoriteDogs(!showingFavoriteDogs));\r\n        setMenuOpen(false);\r\n    };\r\n\r\n    // COMPONENTS ------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc A dialog background.\r\n     */\r\n    const renderBackground = () => {\r\n        if (menuOpen) {\r\n            return (\r\n                <div className={\"dialog-background\"} onClick={() => setMenuOpen(false)}/>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const renderBackButton = () => {\r\n      if (singleView) {\r\n          return (\r\n              <span className={`back-icon`} onClick={() => dispatch(setSingleView(false))}>\r\n                   <Icon icon={IconNames.CHEVRON_LEFT}/>\r\n              </span>\r\n          );\r\n      }\r\n      return null;\r\n    };\r\n\r\n    let menuClass = \"menu\";\r\n    if (scrollY > 0) menuClass += \" active\";\r\n    if (singleView) menuClass += \" single-view\";\r\n\r\n    return (\r\n        <>\r\n            <div className={menuClass}>\r\n                {renderBackButton()}\r\n                <span className={`menu-icon`} onClick={() => setMenuOpen(!menuOpen)}>\r\n                   <Icon icon={IconNames.MENU}/>\r\n                </span>\r\n            </div>\r\n            {renderBackground()}\r\n            <CSSTransition in={menuOpen} unmountOnExit mountOnEnter classNames=\"dialog\" timeout={250}>\r\n                <nav>\r\n                    <ul>\r\n                        <li className={showingFavoriteDogs ? \"favorited\" : \"\"}>\r\n                            <Icon icon={IconNames.STAR}/>\r\n                            <Switch checked={showingFavoriteDogs} onChange={handleOnChange  }/>\r\n                        </li>\r\n                        <li>\r\n                            <Icon icon={IconNames.MOON}/>\r\n                            <Switch checked={darkTheme} onChange={() => dispatch(setDarkTheme(!darkTheme))}/>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </CSSTransition>\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    darkTheme: state.app.darkTheme,\r\n    showingFavoriteDogs: state.dogs.showingFavoriteDogs,\r\n    singleView: state.app.singleView\r\n});\r\n\r\nMenu.propTypes = {\r\n    dispatch: PropTypes.func,\r\n    darkTheme: PropTypes.bool,\r\n    showFavoriteDogs: PropTypes.bool,\r\n    singleView: PropTypes.bool\r\n};\r\n\r\nexport default connect(mapStateToProps)(Menu);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {setError} from \"../../../redux/actions/app\";\r\nimport { Icon, Intent} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport './error-boundary.scss';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: true };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.props.dispatch(setError({error,errorInfo}));\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <main className={\"error-boundary\"}>\r\n                    <div className={\"message\"}>\r\n                        <Icon icon={IconNames.ERROR} intent={Intent.DANGER}/>\r\n                        <h1>Sorry, something went wrong.</h1>\r\n                        <h2>Please try again later.</h2>\r\n                    </div>\r\n                </main>\r\n            );\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n    dispatch: PropTypes.func\r\n};\r\nexport default ErrorBoundary;","import React, {useState, useEffect, useRef} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {Icon} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport {mod, prettifyBreed, breedToKey, keyToBreed} from \"../../../util/util\";\r\nimport './search.scss';\r\n\r\n/**\r\n * @param items {[]} - the items to make searchable and selectable\r\n * @param handleValueChange {function} - a handler to call on the selected item\r\n * @param firstSearch {boolean} - whether the first search is completed\r\n * @desc A search bar component for selecting a type of breed.\r\n *\r\n * Features:\r\n *  - displays an option dialog on input focus\r\n *  - allow dialog search on Arrow keys (up & down)\r\n *  - allow option selection on click and Enter key\r\n */\r\nfunction Search({items, handleValueChange, handleOnFocus, firstSearch}) {\r\n\r\n    // CONSTANTS -------------------------------------------------------------------------------------------------------\r\n\r\n    const INITIAL_PLACEHOLDER = \"Search dog breed\";\r\n    const KEY_CODE = Object.freeze({\r\n        UP: 38,\r\n        DOWN: 40,\r\n        ENTER: 13\r\n    });\r\n\r\n    // COMPONENT STATE -------------------------------------------------------------------------------------------------\r\n\r\n    const [inputVal, setInputVal] = useState('');\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [filteredItems, setFilteredItems] = useState([]);\r\n    const [selectedIndex, setSelectedIndex] = useState(0);\r\n    const [placeholder, setPlaceholder] = useState(INITIAL_PLACEHOLDER);\r\n\r\n    // ELEMENT REFS ----------------------------------------------------------------------------------------------------\r\n\r\n    const searchContainerRef = useRef(null);\r\n    const currOptionRef = useRef(null);\r\n\r\n    // SIDE EFFECTS ----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc Whenever the current option changes,\r\n     * scroll it into view if needed.\r\n     */\r\n    useEffect(() => {\r\n       const {current} = currOptionRef;\r\n       if (current) current.scrollIntoViewIfNeeded(false);\r\n    }, [selectedIndex]);\r\n\r\n    /**\r\n     * @desc Registers an event listener for detecting\r\n     * clicks outside of the search container. Close the\r\n     * option dialog on outside click.\r\n     */\r\n    useEffect(() => {\r\n        const handleClick = e => {\r\n            if (!searchContainerRef.current.contains(e.target)) {\r\n                setShowOptions(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClick);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClick);\r\n        };\r\n    }, []);\r\n\r\n    /**\r\n     * @desc Whenever items changes, make sure to update the\r\n     * filtered list of items.\r\n     */\r\n    useEffect(() => {setFilteredItems(items)}, [items]);\r\n\r\n    /**\r\n     * @desc Whenever the input value changes, update the\r\n     * filtered list of items.\r\n     */\r\n    useEffect(() => {\r\n        const cache = {};\r\n        if (!(inputVal in cache)) {\r\n            cache[inputVal] = items.filter(({breed, subBreed}) => // prefix match\r\n                `${breed} ${subBreed}`.slice(0,inputVal.length).toLowerCase() === inputVal.toLowerCase()\r\n            );\r\n        }\r\n        setFilteredItems(cache[inputVal]);\r\n    }, [inputVal]);\r\n\r\n    /**\r\n     * @desc If the component state is currently NOT showing the\r\n     * option dialog, then reset the placeholder.\r\n     */\r\n    useEffect(() => {\r\n        if (!showOptions) setPlaceholder(INITIAL_PLACEHOLDER);\r\n    }, [showOptions]);\r\n\r\n    // HANDLERS --------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @param e\r\n     * @desc A change handler for updating\r\n     * the appropriate states on input change.\r\n     */\r\n    const handleOnChange = e => {\r\n        try {\r\n            setInputVal(e.target.value);\r\n            setShowOptions(true);\r\n            if (!e.target.value && filteredItems.length) setPlaceholder(prettifyBreed(filteredItems[0]));\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param key - the string representation of a breed as a key\r\n     * @desc A handler for selecting an option. Updates the input,\r\n     * closes the option dialog, and calls the parent handler.\r\n     */\r\n    const optionSelect = key => {\r\n        try {\r\n            const breed = keyToBreed(key);\r\n            setInputVal(prettifyBreed(breed));\r\n            setShowOptions(false);\r\n            handleValueChange(breed);\r\n            setSelectedIndex(0); // reset\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param e\r\n     * @desc A keyup handler. Deals with updating\r\n     * the input placeholder and selecting an option.\r\n     */\r\n    const handleOnKeyUp = e => {\r\n        try {\r\n            const {length} = filteredItems;\r\n            let newIndex;\r\n            switch(e.keyCode) {\r\n                case KEY_CODE.DOWN:\r\n                    newIndex = mod(selectedIndex + 1, length);\r\n                    setSelectedIndex(newIndex);\r\n                    setPlaceholder(prettifyBreed(filteredItems[newIndex]));\r\n                    break;\r\n                case KEY_CODE.UP:\r\n                    newIndex = mod(selectedIndex - 1, length);\r\n                    setSelectedIndex(newIndex);\r\n                    setPlaceholder(prettifyBreed(filteredItems[newIndex]));\r\n                    break;\r\n                case KEY_CODE.ENTER:\r\n                    optionSelect(breedToKey(filteredItems[selectedIndex]));\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    // COMPONENTS ------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @desc Renders an options dialog.\r\n     */\r\n    const renderOptions = () => {\r\n        if (showOptions && filteredItems.length) {\r\n            const options = filteredItems.map((breed,i) => {\r\n                const val = breedToKey(breed);\r\n                const label = prettifyBreed(breed);\r\n                const props = {\r\n                    className: \"option\",\r\n                    key: val,\r\n                    'data-value': val\r\n                };\r\n                if (i === selectedIndex) { // special style and ref for current selected option\r\n                    props.className += \" selected\";\r\n                    props.ref = currOptionRef;\r\n                }\r\n                return (<div {...props} onClick={e => optionSelect(e.target.dataset.value)}>{label}</div>);\r\n            });\r\n            return (\r\n                <div className={\"options-container\"}>\r\n                    <div className=\"options\">\r\n                        {options}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={\"search-container\"}\r\n            style={{'width': (firstSearch ? '50%' : \"80%\")}}\r\n            ref={searchContainerRef}>\r\n            <Icon icon={IconNames.SEARCH}/>\r\n            <input\r\n                type=\"text\"\r\n                className={(showOptions ? \"focus\" : \"\") + (showOptions && filteredItems.length ? \" dropdown\" : \"\")}\r\n                value={inputVal}\r\n                spellCheck={false}\r\n                onKeyUp={handleOnKeyUp}\r\n                onChange={handleOnChange}\r\n                placeholder={placeholder}\r\n                onFocus={handleOnFocus}/>\r\n            {renderOptions()}\r\n        </div>\r\n    );\r\n}\r\n\r\nSearch.propTypes = {\r\n    items: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\r\n    handleValueChange: PropTypes.func,\r\n    firstSearch: PropTypes.bool\r\n};\r\n\r\nexport default Search;\r\n","import {fetchBreeds} from \"../../api\";\r\nimport {FETCH_BREEDS} from \"./actionTypes\";\r\n\r\nfunction initialAction() {\r\n    return {\r\n        type: FETCH_BREEDS.INITIAL\r\n    }\r\n}\r\n\r\nfunction successAction(res) {\r\n    return {\r\n        type: FETCH_BREEDS.SUCCESS,\r\n        breeds: res.message\r\n    }\r\n}\r\n\r\nfunction failureAction(err) {\r\n    return {\r\n        type: FETCH_BREEDS.FAILURE,\r\n        err\r\n    }\r\n}\r\n\r\nexport default () => {\r\n    return async (dispatch) => {\r\n        dispatch(initialAction());\r\n        try {\r\n            const res = await fetchBreeds();\r\n            if (res.status === \"success\") {\r\n                dispatch(successAction(res));\r\n            } else {\r\n                dispatch(failureAction(res));\r\n            }\r\n        } catch (e) {\r\n            dispatch(failureAction(e))\r\n        }\r\n    };\r\n}","import React, {useEffect, useState, useMemo} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport Photos from \"../photos/photos\";\nimport Menu from \"../menu/menu\";\nimport ErrorBoundary from \"../../non-connected/error-boundary/error-boundary\";\nimport Search from '../../non-connected/search/search';\nimport {getDogs, setCurrentBreed, getRandomDogs} from '../../../redux/actions/dogs';\nimport fetchBreeds from '../../../redux/actions/breeds';\nimport {setFirstSearch} from \"../../../redux/actions/app\";\nimport {breedToKey} from \"../../../util/util\";\nimport {Icon} from \"@blueprintjs/core\";\nimport { IconNames } from \"@blueprintjs/icons\";\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport './App.scss';\n\n/**\n * @param appState\n * @param dogState\n * @param breeds\n * @param dispatch - provided by connect, used to dispatch actions\n * @desc App is a top level connected component.\n *\n * Main Responsibilities:\n *  - fetching breeds data from Dogs API\n *  - updating theme\n *  - displaying a memoized photos component\n */\nfunction App({appState, dogState, breeds, dispatch}) {\n\n    // CONSTANTS -------------------------------------------------------------------------------------------------------\n\n    const {firstSearch, darkTheme, singleView} = appState;\n    const {dogs, currentBreed, showingFavoriteDogs, currentDogs} = dogState;\n\n    // SIDE EFFECTS ----------------------------------------------------------------------------------------------------\n\n    /**\n     * @desc Fetch all of the possible breeds\n     * and subBreeds only once.\n     */\n    useEffect(() => {\n        dispatch(fetchBreeds());\n    }, []);\n\n    /**\n     * @desc Whenever the theme changes,\n     * update the html class accordingly.\n     */\n    useEffect(() => {\n        if (darkTheme) {\n            document.querySelector(\"html\").className = \"dark\";\n            return;\n        }\n        document.querySelector(\"html\").className = \"light\";\n    }, [darkTheme]);\n\n    useEffect(() => {\n        if (singleView) {\n            document.querySelector(\"html\").style.setProperty(\"--card-length\", \"90vw\");\n            return;\n        }\n        document.querySelector(\"html\").style.setProperty(\"--card-length\", \"32vw\");\n    }, [singleView]);\n\n    // HANDLERS --------------------------------------------------------------------------------------------------------\n\n    /**\n     * @param breed\n     * @param subBreed\n     * @desc A handler for dispatching actions to the\n     * app and dog state according to the value selected\n     * from the search component.\n     */\n    const handleValueChange = async ({breed,subBreed}) => {\n        try {\n            const key = breedToKey({breed,subBreed});\n            if (!(key in dogs)) {\n                await dispatch(getDogs(breed, subBreed));\n            }\n            await dispatch(setCurrentBreed(key));\n            dispatch(getRandomDogs());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    /**\n     * @desc A focus handler for setting\n     * first search to false.\n     */\n    const handleOnFocus = () => {\n        dispatch(setFirstSearch(false));\n    };\n\n    // COMPONENTS ------------------------------------------------------------------------------------------------------\n\n    /**\n     * @desc Memoize the return value to control\n     * when the photos component re-renders.\n     */\n    const dogPhotos = useMemo(() => {\n        if (currentBreed && dogs[currentBreed] && dogs[currentBreed].size) {\n            return (<Photos/>);\n        }\n        return null;\n    }, [dogs, currentBreed]);\n\n    /**\n     * @desc A small component to show when\n     * the user has selected \"favorites\" and\n     * there are currently no favorite dogs\n     * in the app state.\n     */\n    const noFavorites = (\n      <div className={\"no-favorites\"}>\n          <div>Click on the \"</div>\n          <Icon icon={IconNames.STAR_EMPTY}/>\n          <div>\" icon to favorite a photo.</div>\n      </div>\n    );\n\n    const searchProps = {\n        items: breeds,\n        handleValueChange,\n        handleOnFocus,\n        firstSearch\n    };\n\n    return (\n        <ErrorBoundary dispatch={dispatch}>\n            <main className={singleView ? \"singleView\" : \"\"}>\n                <div className={`query-container ${firstSearch ? \"first-search\" : \"\"}`}>\n                    <Search {...searchProps}/>\n                </div>\n                {(showingFavoriteDogs && !currentDogs.length) ? noFavorites : dogPhotos}\n            </main>\n            <Menu/>\n        </ErrorBoundary>\n    );\n}\n\nApp.propTypes = {\n    appState: PropTypes.object,\n    dogState: PropTypes.object,\n    breeds: PropTypes.array,\n    dispatch: PropTypes.func\n};\n\nconst mapStateToProps = (state) => ({\n    dogState: state.dogs,\n    breeds: state.breeds.breeds,\n    appState: state.app\n});\n\nexport default connect(mapStateToProps)(App);\n","import {FETCH_DOGS, DOGS} from \"../actions/actionTypes\";\r\nimport {updateDogs, randomDogs} from \"../../util/util\";\r\n\r\nconst INITIAL_STATE = {\r\n    inProgress: false,\r\n    dogs: {},\r\n    pageSize: 9,\r\n    currentBreed: null,\r\n    currentDogs: [],\r\n    favoriteDogs: [],\r\n    showingFavoriteDogs: false,\r\n    err: null\r\n};\r\n\r\nexport default (prevState = INITIAL_STATE, action) => {\r\n    let {dogs, pageSize, currentBreed, currentDogs, favoriteDogs} = prevState;\r\n    switch(action.type) {\r\n        case FETCH_DOGS.INITIAL:\r\n            return {\r\n                ...prevState,\r\n                inProgress: true,\r\n                err: null\r\n            };\r\n        case FETCH_DOGS.SUCCESS:\r\n            dogs = updateDogs(prevState.dogs, action);\r\n            return {\r\n                ...prevState,\r\n                inProgress: false,\r\n                dogs,\r\n                err: null\r\n            };\r\n        case FETCH_DOGS.FAILURE:\r\n            return {\r\n                ...prevState,\r\n                inProgress: false,\r\n                err: action.err\r\n            };\r\n        case DOGS.SET_CURRENT_BREED:\r\n            return  {\r\n                ...prevState,\r\n                currentBreed: action.currentBreed,\r\n                showingFavoriteDogs: false, // reset\r\n                currentDogs: [] // reset\r\n            };\r\n        case DOGS.GET_RANDOM_DOGS:\r\n            currentDogs = randomDogs(pageSize, Array.from(dogs[currentBreed]), currentDogs);\r\n            return {\r\n                ...prevState,\r\n                currentDogs\r\n            };\r\n        case DOGS.APPEND_CURRENT_DOGS:\r\n            return {\r\n                ...prevState,\r\n                currentDogs: [...currentDogs, ...action.currentDogs]\r\n            };\r\n        case DOGS.ADD_FAVORITE:\r\n            return {\r\n                ...prevState,\r\n                favoriteDogs: [...favoriteDogs, action.dog]\r\n            };\r\n        case DOGS.REMOVE_FAVORITE:\r\n            const newFavoriteDogs = [...favoriteDogs];\r\n            const index = newFavoriteDogs.findIndex(val => val === action.dog);\r\n            if (index > -1) {\r\n                newFavoriteDogs.splice(index,1);\r\n            }\r\n            return {\r\n                ...prevState,\r\n                favoriteDogs: newFavoriteDogs\r\n            };\r\n        case DOGS.SET_SHOW_FAVORITES:\r\n            if (action.showFavoriteDogs) {\r\n                return {\r\n                    ...prevState,\r\n                    showingFavoriteDogs: true,\r\n                    currentDogs: favoriteDogs.slice(0,pageSize)\r\n                };\r\n            }\r\n            return {\r\n                ...prevState,\r\n                showingFavoriteDogs: false,\r\n                currentDogs: Array.from(dogs[currentBreed] || [])\r\n            };\r\n        default:\r\n            return prevState;\r\n    }\r\n}","import {FETCH_BREEDS} from \"../actions/actionTypes\";\r\n\r\nconst INITIAL_STATE = {\r\n    inProgress: false,\r\n    breeds: [],\r\n    err: null\r\n};\r\n\r\n/**\r\n * @param breeds\r\n * @returns {[]}\r\n * @desc Formats the object from the Dogs Breeds endpoint\r\n * to an array of breeds and sub-breeds.\r\n * Object to format: https://dog.ceo/api/breeds/list/all\r\n */\r\nfunction formatBreeds(breeds) {\r\n    const result = [];\r\n    Object.entries(breeds).forEach(([breed,subBreeds]) => {\r\n        if (subBreeds.length) {\r\n            subBreeds.forEach(subBreed => result.push({breed, subBreed}));\r\n        } else {\r\n            result.push({breed, subBreed: null});\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\nexport default (prevState = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case FETCH_BREEDS.INITIAL:\r\n            return {\r\n                ...prevState,\r\n                inProgress: true,\r\n                breeds: [],\r\n                err: null\r\n            };\r\n        case FETCH_BREEDS.SUCCESS:\r\n            const breeds = formatBreeds(action.breeds);\r\n            return {\r\n                ...prevState,\r\n                inProgress: false,\r\n                breeds,\r\n                err: null\r\n            };\r\n        case FETCH_BREEDS.FAILURE:\r\n            return {\r\n                ...prevState,\r\n                inProgress: false,\r\n                breeds: [],\r\n                err: action.err\r\n            };\r\n        default:\r\n            return prevState;\r\n    }\r\n}","import {APP} from \"../actions/actionTypes\";\r\n\r\nconst INITIAL_STATE = {\r\n    firstSearch: true,\r\n    darkTheme: true,\r\n    singleView: false,\r\n    error: null\r\n};\r\n\r\nexport default (prevState = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case APP.SET_FIRST_SEARCH:\r\n            return {\r\n                ...prevState,\r\n                firstSearch: action.firstSearch\r\n            };\r\n        case APP.SET_DARK_THEME:\r\n            return {\r\n                ...prevState,\r\n                darkTheme: action.darkTheme\r\n            };\r\n        case APP.SET_SINGLE_VIEW:\r\n            return {\r\n                ...prevState,\r\n                singleView: action.singleView\r\n            };\r\n        case APP.SET_ERROR:\r\n            return {\r\n                ...prevState,\r\n                error: action.error\r\n            };\r\n        default:\r\n            return prevState;\r\n    }\r\n}","import {combineReducers} from \"redux\";\r\nimport dogs from \"./dogs\";\r\nimport breeds from \"./breeds\";\r\nimport app from \"./app\";\r\n\r\nexport default combineReducers({dogs, breeds, app});","import {createStore, applyMiddleware} from 'redux';\r\nimport logger from 'redux-logger';\r\nimport finalReducer from './reducers/index';\r\nimport thunk from \"redux-thunk\";\r\n\r\n// todo: remove logger in production env\r\nconst middleware = applyMiddleware(logger, thunk);\r\n\r\nexport default createStore(finalReducer, middleware);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {Provider} from 'react-redux';\nimport App from './components/connected/app/App';\nimport store from './redux/store';\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}